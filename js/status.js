define(function(require,exports,module){function StatusSysModule(){function cloneMAC(){var macHost=pageModule.data.statusWAN.macHost;$.post("goform/setMacClone","wanMac="+macHost,function(str){if(checkIsTimeOut(str))return void top.location.reload(!0);var num=$.parseJSON(str).errCode||"-1";0==num&&mainLogic.showModuleMsg(_("Clone MAC successfully!"))})}this.init=function(){this.initEvent()},this.initEvent=function(){$("#statusInternet").delegate("#cloneMac","click",cloneMAC)},this.initValue=function(){var obj=pageModule.data;showWanInternetStatus(obj.statusInternet,"wan-connect-status",obj.newIP),"1"==obj.statusInternet.slice(2,3)?$(".pic-wan").removeClass("pic-wan-error"):$(".pic-wan").addClass("pic-wan-error")},this.checkData=function(){},this.getSubmitData=function(){return""}}function StatusWanModule(){this.init=function(){this.initEvent()},this.initEvent=function(){},this.initValue=function(){var obj=pageModule.data;"dhcp"==obj.statusWAN.statusWanType?obj.statusWAN.statusWanType=_("Dynamic IP"):"pppoe"==obj.statusWAN.statusWanType?obj.statusWAN.statusWanType=_("PPPoE"):"static"==obj.statusWAN.statusWanType&&(obj.statusWAN.statusWanType=_("Static IP")),"0"==obj.statusInternet.slice(2,3)?($("#statistic").hide(),$("#statusWAN").hide()):($("#statistic").show(),$("#statusWAN").show());for(var prop in obj.statusWAN)""==obj.statusWAN[prop]&&(obj.statusWAN[prop]="-");inputValue(obj.statusWAN),$("#statusWanConnectTime").html(formatSeconds(obj.statusWAN.statusWanConnectTime))},this.checkData=function(){},this.getSubmitData=function(){}}function StatusBandModule(){this.init=function(){this.initEvent()},this.initEvent=function(){$("#statistic fieldset").on("click",function(){mainLogic.changeMenu("net-control")})},this.initValue=function(){var obj=pageModule.data;$("#statusOnlineNumber").html(obj.statusOnlineNumber),shapingSpeed("statusDownSpeed",obj.statusDownSpeed),shapingSpeed("statusUpSpeed",obj.statusUpSpeed)}}function shapingSpeed(id,value){var val=parseFloat(value);val>1024?($("#"+id).html((val/1024).toFixed(1)),$("#"+id+"~small").html(_("MB/s"))):($("#"+id).html(val.toFixed(1)),$("#"+id+"~small").html(_("KB/s")))}var pageModule=new PageLogic("goform/getStatus");pageModule.modules=[];var statusTimer=null;pageModule.initEvent=function(){return pageModule.pageRunning=!0,clearInterval(statusTimer),statusTimer=setInterval(function(){pageModule.getValue("goform/getStatus")},5e3),pageModule.pageRunning?void 0:void clearInterval(statusTimer)},module.exports=pageModule;var statusSysModule=new StatusSysModule;pageModule.modules.push(statusSysModule);var statusWanModule=new StatusWanModule;pageModule.modules.push(statusWanModule);var statusBandModule=new StatusBandModule;pageModule.modules.push(statusBandModule)});